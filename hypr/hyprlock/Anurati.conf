# #######################################################################################
# hyprlock.conf - Tema Catppuccin Mocha
# Archivo corregido para funcionar sin scripts externos de theming.
# #######################################################################################

# --- Fondo de Pantalla ---
background {
    monitor =
    # ¡MUY IMPORTANTE! Reemplaza esta ruta con la de tu propio fondo de pantalla.
    path = ~/config/DotFiles/hypr/themes/wallpaper/deer-glade.jpg
    
    # Efectos visuales sobre el fondo
    blur_size = 4
    blur_passes = 3
    noise = 0.0117
    contrast = 1.1
    brightness = 0.8
    vibrancy = 0.16
    vibrancy_darkness = 0.0
}

# --- Campo de Contraseña ---
input-field {
    monitor =
    size = 250, 50
    outline_thickness = 3
    dots_size = 0.33
    dots_spacing = 0.15
    dots_center = true
    outer_color = rgba(b4befeff)  # Lavender
    inner_color = rgba(45475aff)  # Surface2
    font_color = rgba(cdd6f4ff)   # Text
    fade_on_empty = true
    placeholder_text = <i>Contraseña...</i>
    hide_input = false
    rounding = -1
    check_color = rgba(a6e3a1ff)  # Green
    fail_color = rgba(f38ba8ff)   # Red
    fail_text = <i>$FAIL <b>($ATTEMPTS)</b></i>
    fail_transition = 300
    position = 0, -80
    halign = center
    valign = center
}

# --- Reloj (HORA:MINUTOS) ---
label {
    monitor =
    text = cmd[update:1000] echo "$(date +"%H:%M")"
    color = rgba(cdd6f4ff) # Text
    font_size = 120
    font_family = JetBrainsMono Nerd Font Bold
    position = 0, 50
    halign = center
    valign = center
}

# --- Fecha (DÍA, NÚMERO MES) ---
label {
    monitor =
    text = cmd[update:1000] echo "$(date +"%A, %d de %B")"
    color = rgba(b4befeff) # Lavender
    font_size = 25
    font_family = JetBrainsMono Nerd Font
    position = 0, -20
    halign = center
    valign = center
}

# --- Usuario ---
label {
    monitor =
    text =   $USER
    color = rgba(cdd6f4ff) # Text
    font_size = 20
    font_family = JetBrainsMono Nerd Font
    position = 0, 50
    halign = center
    valign = bottom
}

# --- Distribución del Teclado ---
label {
    monitor =
    # Este comando obtiene tu layout actual de Hyprland y lo pone en mayúsculas
    text = cmd[update:1000] hyprctl -j getoption input:kb_layout | jq -r '.str' | awk '{print toupper($0)}' | sed 's/,/ /' | awk '{print $1}'

    color = rgba(a6adc8ff) # Subtext0
    font_size = 16
    font_family = JetBrainsMono Nerd Font
    position = 15, 15
    halign = right
    valign = top
}
